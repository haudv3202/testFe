"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[951],{8951:(J,c,r)=>{r.r(c),r.d(c,{TenantModule:()=>y});var d=r(6895),i=r(433),p=r(5226),u=r.n(p),e=r(4650),m=r(265),h=r(7878),f=r(7094),v=r(2340),C=r(529);let b=(()=>{class n{constructor(t){this.http=t,this.businessFieldApiUrl=v.N.apiPublicv1+"business-field"}getBusinessFields(){return this.http.get(this.businessFieldApiUrl)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(C.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=r(8747),g=r(8796);function E(n,o){1&n&&(e.TgZ(0,"div",12),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng t\xean doanh nghi\u1ec7p "),e.qZA())}function Z(n,o){if(1&n&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessages.business_name," ")}}function _(n,o){1&n&&(e.TgZ(0,"div",12),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng \u0111\u1ecba ch\u1ec9 \u0111\u0103ng nh\u1eadp "),e.qZA())}function x(n,o){if(1&n&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessages.name_tenant," ")}}function A(n,o){1&n&&(e.TgZ(0,"div",12),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng \u0111\u1ecba ch\u1ec9 "),e.qZA())}function F(n,o){if(1&n&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessages.address," ")}}function B(n,o){if(1&n&&(e.TgZ(0,"ng-option",13),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function I(n,o){1&n&&(e.TgZ(0,"div",12),e._uU(1," Vui l\xf2ng ch\u1ecdn l\u0129nh v\u1ef1c kinh doanh "),e.qZA())}function N(n,o){if(1&n&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessages.business_code," ")}}const U=[{path:"create",component:(()=>{class n{constructor(t,s,a,l,M,S){this.router=t,this.route=s,this.authService=a,this.localStorageService=l,this.businessFieldService=M,this.tenantService=S,this.simpleItems=[],this.form=new i.cw({business_name:new i.NI("",i.kI.required),name_tenant:new i.NI("",i.kI.required),address:new i.NI("",i.kI.required),business_code:new i.NI("",i.kI.required)}),this.errorMessages=[]}ngOnInit(){this.authService.getToken("tenant_token")||this.router.navigate(["/auth/login"]),this.getBusinessField()}onSubmit(){this.errorMessages=[],this.form.valid?this.tenantService.create({business_name:this.form.value.business_name||"",name_tenant:this.form.value.name_tenant,address:this.form.value.address,business_code:this.form.value.business_code}).subscribe(s=>{if(console.log(s),1==s.status)u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"T\u1ea1o m\u1edbi th\xe0nh c\xf4ng",icon:"success",timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",u().stopTimer),a.addEventListener("mouseleave",u().resumeTimer)}}),setTimeout(()=>{this.router.navigate(["auth/login/by-enterprise/tenants"])},500);else{let a="";"string"==typeof s.meta?a=s.meta:(this.errorMessages=s.meta,this.errorMessages.domain_name&&(a=this.errorMessages.domain_name)),u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:a,icon:"error",timerProgressBar:!0,didOpen:l=>{l.addEventListener("mouseenter",u().stopTimer),l.addEventListener("mouseleave",u().resumeTimer)}})}},s=>{0==s.error.status&&u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"C\xf3 l\u1ed7i x\u1ea3y ra",icon:"error",timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",u().stopTimer),a.addEventListener("mouseleave",u().resumeTimer)}})}):alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng")}getBusinessField(){this.businessFieldService.getBusinessFields().subscribe(t=>{this.businessFields=t.payload},t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(h.e),e.Y36(f.n),e.Y36(b),e.Y36(T.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create"]],decls:31,vars:12,consts:[[1,"content-inner__body-title","mb-4","text-center"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","placeholder","T\xean doanh nghi\u1ec7p","value","","formControlName","business_name",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"form-label"],["type","text","formControlName","name_tenant","placeholder","\u0110\u1ecba ch\u1ec9 \u0111\u0103ng nh\u1eadp","value","",1,"form-control"],["type","text","formControlName","address","placeholder","\u0110\u1ecba ch\u1ec9","value","",1,"form-control"],["formControlName","business_code","placeholder","Ch\u1ecdn l\u0129nh v\u1ef1c kinh doanh",3,"searchable"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","me-2","mb-2","mb-md-0",3,"disabled"],[1,"alert","alert-danger","mt-2"],[3,"value"]],template:function(t,s){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"T\u1ea1o doanh nghi\u1ec7p"),e.qZA(),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(3,"div",2)(4,"label",3),e._uU(5,"T\xean doanh nghi\u1ec7p"),e.qZA(),e._UZ(6,"input",4),e.YNc(7,E,2,0,"div",5),e.YNc(8,Z,2,1,"div",5),e.qZA(),e.TgZ(9,"div",2)(10,"label",6),e._uU(11,"\u0110\u1ecba ch\u1ec9 \u0111\u0103ng nh\u1eadp"),e.qZA(),e._UZ(12,"input",7),e.YNc(13,_,2,0,"div",5),e.YNc(14,x,2,1,"div",5),e.qZA(),e.TgZ(15,"div",2)(16,"label",6),e._uU(17,"\u0110\u1ecba ch\u1ec9"),e.qZA(),e._UZ(18,"input",8),e.YNc(19,A,2,0,"div",5),e.YNc(20,F,2,1,"div",5),e.qZA(),e.TgZ(21,"div",2)(22,"label",6),e._uU(23,"L\u0129nh v\u1ef1c kinh doanh"),e.qZA(),e.TgZ(24,"ng-select",9),e.YNc(25,B,2,2,"ng-option",10),e.qZA(),e.YNc(26,I,2,0,"div",5),e.YNc(27,N,2,1,"div",5),e.qZA(),e.TgZ(28,"div")(29,"button",11),e._uU(30," Ti\u1ebfp t\u1ee5c "),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(5),e.Q6J("ngIf",s.form.controls.business_name.invalid&&s.form.controls.business_name.touched),e.xp6(1),e.Q6J("ngIf",s.errorMessages.business_name),e.xp6(5),e.Q6J("ngIf",s.form.controls.name_tenant.invalid&&s.form.controls.name_tenant.touched),e.xp6(1),e.Q6J("ngIf",s.errorMessages.name_tenant),e.xp6(5),e.Q6J("ngIf",s.form.controls.address.invalid&&s.form.controls.address.touched),e.xp6(1),e.Q6J("ngIf",s.errorMessages.address),e.xp6(4),e.Q6J("searchable",!0),e.xp6(1),e.Q6J("ngForOf",s.businessFields),e.xp6(1),e.Q6J("ngIf",s.form.controls.business_code.invalid&&s.form.controls.business_code.touched),e.xp6(1),e.Q6J("ngIf",s.errorMessages.business_code),e.xp6(2),e.Q6J("disabled",s.form.invalid))},dependencies:[d.sg,d.O5,g.w9,g.jq,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".container-main[_ngcontent-%COMP%]{padding:24px;max-height:100vh;overflow-y:auto}.content-inner__body-item[_ngcontent-%COMP%]{height:62px;padding:10px 16px;background:#fff;border:.5px solid #e6e6e6;border-radius:8px;cursor:pointer}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,m.Bz.forChild(U)]}),n})()}}]);
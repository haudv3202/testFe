"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[111],{2111:(Y,h,u)=>{u.r(h),u.d(h,{BrandsModule:()=>N});var c=u(6895),d=u(265),t=u(4650);let b=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-brands"]],decls:1,vars:0,template:function(e,r){1&e&&t._UZ(0,"router-outlet")},dependencies:[d.lC],encapsulation:2}),n})();var f=u(9751),v=u(9646),T=u(5226),o=u.n(T),p=u(2366),g=u(8557);function E(n,i){1&n&&(t.TgZ(0,"div",14)(1,"div",15)(2,"span",16),t._uU(3,"Loading..."),t.qZA()()())}const C=function(n){return["../edit",n]};function B(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td")(9,"a",19),t._uU(10,"S\u1eeda"),t.qZA(),t.TgZ(11,"button",20),t._uU(12,"X\xf3a"),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.hij("",t.xi3(7,5,e.created_at,"dd-MM-yyyy")," "),t.xp6(3),t.Q6J("routerLink",t.VKq(8,C,e.id)),t.xp6(2),t.s9C("id",e.id)}}function A(n,i){if(1&n&&(t.TgZ(0,"table",17)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"ID"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"T\xcaN th\u01b0\u01a1ng hi\u1ec7u"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"TH\u1edcI GIAN T\u1ea0O"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"H\xc0NH \u0110\u1ed8NG"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,B,13,10,"tr",18),t.ALo(13,"async"),t.qZA(),t.TgZ(14,"tfoot")(15,"tr"),t._UZ(16,"th")(17,"th")(18,"th")(19,"th")(20,"th")(21,"th"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(12),t.Q6J("ngForOf",t.lcZ(13,1,e.listBrands))}}let Z=(()=>{class n{constructor(e){this._brandService=e,this.isLoading=!1,this.listBrands=new f.y}ngOnInit(){this.refreshData()}ngAfterViewInit(){this.listBrands.subscribe(()=>{setTimeout(()=>{new p.w("#dataTableExample"),setTimeout(()=>{new p.w("#dataTableExample").on("datatable.init",()=>{this.addDeleteEventHandlers()})},0)},0)})}addDeleteEventHandlers(){const e=document.getElementsByClassName("btn-danger");Array.from(e).forEach(r=>{r.addEventListener("click",a=>{const l=a.target.getAttribute("id");this.deleteBrand(Number(l))})})}deleteBrand(e){o().fire({title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ho\xe0n t\xe1c l\u1ea1i h\xe0nh \u0111\u1ed9ng n\xe0y!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"C\xf3, x\xf3a n\xf3!"}).then(r=>{r.isConfirmed&&this._brandService.delete(e).subscribe(a=>{o().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e3,title:"\u0110\xe3 x\xf3a!",text:"Th\u01b0\u01a1ng hi\u1ec7u \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a.",icon:"success",timerProgressBar:!0,didOpen:l=>{l.addEventListener("mouseenter",o().stopTimer),l.addEventListener("mouseleave",o().resumeTimer)}}),setTimeout(()=>{location.reload()},1e3)},a=>{0==a.success&&o().fire("L\u1ed7i!",`${a.meta.name}`,"error")})})}refreshData(){this.isLoading=!0,this._brandService.GetData().subscribe({next:e=>{1==e.status&&(this.listBrands=(0,v.of)(e.payload.data),console.log(e.payload.data),this.isLoading=!1,this.listBrands.subscribe(r=>{setTimeout(()=>{new p.w("#dataTableExample").on("datatable.init",()=>{this.addDeleteEventHandlers()})},0)}))},error:e=>{console.log(e),o().fire("L\u1ed7i!","C\xf3 l\u1ed7i x\u1ea3y ra.","error")}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.G))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-brands-list"]],decls:18,vars:2,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["routerLink","/brands/create","type","button",1,"btn","btn-primary"],[1,"table-responsive"],["class","d-flex justify-content-center",4,"ngIf"],["id","dataTableExample","class","table",4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["id","dataTableExample",1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","mx-2",3,"routerLink"],[1,"btn","btn-danger",3,"id"]],template:function(e,r){1&e&&(t.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),t._uU(4,"Danh m\u1ee5c"),t.qZA()(),t.TgZ(5,"li",4),t._uU(6,"Danh m\u1ee5c th\u01b0\u01a1ng hi\u1ec7u"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),t._uU(12,"Qu\u1ea3n l\xed th\u01b0\u01a1ng hi\u1ec7u"),t.qZA(),t.TgZ(13,"button",10),t._uU(14,"Th\xeam m\u1edbi"),t.qZA(),t.TgZ(15,"div",11),t.YNc(16,E,4,0,"div",12),t.YNc(17,A,22,3,"table",13),t.qZA()()()()()),2&e&&(t.xp6(16),t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("ngIf",!r.isLoading))},dependencies:[c.sg,c.O5,d.rH,d.yS,c.Ov,c.uU]}),n})();var s=u(433);function x(n,i){1&n&&(t.TgZ(0,"div",12)(1,"button",13),t._UZ(2,"span",14),t._uU(3," Loading... "),t.qZA()())}function L(n,i){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng t\xean th\u01b0\u01a1ng hi\u1ec7u"),t.qZA())}function y(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",15),t.NdJ("ngSubmit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSubmit())}),t.TgZ(1,"div",16)(2,"label",17),t._uU(3,"T\xean th\u01b0\u01a1ng hi\u1ec7u"),t.qZA(),t._UZ(4,"input",18),t.YNc(5,L,2,0,"p",19),t.qZA(),t.TgZ(6,"button",20),t._uU(7,"C\u1eadp nh\u1eadt"),t.qZA(),t.TgZ(8,"button",21),t._uU(9,"Tr\u1edf v\u1ec1"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.brandForm),t.xp6(5),t.Q6J("ngIf",e.brandForm.controls.name.invalid&&e.brandForm.controls.name.touched),t.xp6(1),t.Q6J("disabled",e.brandForm.invalid)}}let U=(()=>{class n{constructor(e,r,a){this._brandService=e,this._route=r,this._router=a,this.brandForm=new s.cw({name:new s.NI("",[s.kI.required,s.kI.maxLength(255)])}),this.isLoading=!1}ngOnInit(){this._route.paramMap.subscribe(e=>{const r=e.get("id");null!==r?(this.id=r,this.isLoading=!0,this._brandService.GetOneRecord(r).subscribe(a=>{this.name=a.payload.name,this.isLoading=!1,this.brandForm.patchValue(a.payload)},a=>{o().fire("L\u1ed7i!","C\xf3 l\u1ed7i x\u1ea3y ra d\u1eef li\u1ec7u.","error")})):this._router.navigate(["../brands/list"])})}onSubmit(){if(this.brandForm.valid){const e={...this.brandForm.value,update_date:(new Date).toISOString(),id:this.id};this._brandService.update(e).subscribe(r=>{if(1==r.status)o().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success",timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",o().stopTimer),a.addEventListener("mouseleave",o().resumeTimer)}}),this._router.navigate(["/brands/list"]);else{console.log(r);const a=[];for(const m in r.meta.errors)a.push(...r.meta.errors[m]);const l=a.join(" ");o().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:l,icon:"error",timerProgressBar:!0,didOpen:m=>{m.addEventListener("mouseenter",o().stopTimer),m.addEventListener("mouseleave",o().resumeTimer)}})}},r=>{0==r.error.status&&o().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"L\u1ed7i!",text:`${r.error.meta.errors.name[0]}`,icon:"error",timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",o().stopTimer),a.addEventListener("mouseleave",o().resumeTimer)}})})}else alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.G),t.Y36(d.gz),t.Y36(d.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-brands-edit"]],decls:15,vars:2,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["class","loadingcustomcss",4,"ngIf"],["class","forms-sample",3,"formGroup","ngSubmit",4,"ngIf"],[1,"loadingcustomcss"],["type","button","disabled","",1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputUsername1",1,"form-label"],["type","text","id","exampleInputUsername1","formControlName","name","autocomplete","off","placeholder","Nh\u1eadp t\xean th\u01b0\u01a1ng hi\u1ec7u",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["routerLink","/brands/list",1,"btn","btn-secondary"],[1,"text-danger","mt-1"]],template:function(e,r){1&e&&(t.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),t._uU(4,"Th\u01b0\u01a1ng hi\u1ec7u"),t.qZA()(),t.TgZ(5,"li",4),t._uU(6,"C\u1eadp nh\u1eadt th\u01b0\u01a1ng hi\u1ec7u"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),t._uU(12,"C\u1eadp nh\u1eadt th\u01b0\u01a1ng hi\u1ec7u"),t.qZA(),t.YNc(13,x,4,0,"div",10),t.YNc(14,y,10,3,"form",11),t.qZA()()()()),2&e&&(t.xp6(13),t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("ngIf",!r.isLoading))},dependencies:[c.O5,d.rH,d.yS,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]}),n})();function _(n,i){1&n&&(t.TgZ(0,"p",17),t._uU(1,"Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng t\xean th\u01b0\u01a1ng hi\u1ec7u"),t.qZA())}let F=(()=>{class n{constructor(e,r){this._brandService=e,this._router=r,this.brandForm=new s.cw({name:new s.NI("",[s.kI.required])})}ngOnInit(){}onSubmit(){if(this.brandForm.valid){const e={name:String(this.brandForm.value.name)||""};this._brandService.create(e).subscribe(r=>{if(1==r.status)this.brandForm.reset(),o().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"Th\xeam th\xe0nh c\xf4ng",icon:"success",timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",o().stopTimer),a.addEventListener("mouseleave",o().resumeTimer)}}),this._router.navigate(["../brands/list"]);else{console.log(r);const a=[];for(const m in r.meta.errors)a.push(...r.meta.errors[m]);const l=a.join(" ");o().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:l,icon:"error",timerProgressBar:!0,didOpen:m=>{m.addEventListener("mouseenter",o().stopTimer),m.addEventListener("mouseleave",o().resumeTimer)}})}},r=>{0==r.error.status&&o().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"L\u1ed7i!",text:`${r.error.meta.errors.name[0]}`,icon:"error",timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",o().stopTimer),a.addEventListener("mouseleave",o().resumeTimer)}})})}else console.log("Error create brand!")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.G),t.Y36(d.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-brands-create"]],decls:23,vars:3,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputUsername1",1,"form-label"],["type","text","id","exampleInputUsername1","formControlName","name","autocomplete","off","placeholder","Nh\u1eadp t\xean th\u01b0\u01a1ng hi\u1ec7u",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["routerLink","/categories/list",1,"btn","btn-secondary"],[1,"text-danger","mt-1"]],template:function(e,r){1&e&&(t.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),t._uU(4,"Th\u01b0\u01a1ng hi\u1ec7u"),t.qZA()(),t.TgZ(5,"li",4),t._uU(6,"Th\xeam m\u1edbi th\u01b0\u01a1ng hi\u1ec7u"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),t._uU(12,"Th\xeam m\u1edbi th\u01b0\u01a1ng hi\u1ec7u"),t.qZA(),t.TgZ(13,"form",10),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(14,"div",11)(15,"label",12),t._uU(16,"T\xean th\u01b0\u01a1ng hi\u1ec7u"),t.qZA(),t._UZ(17,"input",13),t.YNc(18,_,2,0,"p",14),t.qZA(),t.TgZ(19,"button",15),t._uU(20,"T\u1ea1o m\u1edbi"),t.qZA(),t.TgZ(21,"button",16),t._uU(22,"Tr\u1edf v\u1ec1"),t.qZA()()()()()()),2&e&&(t.xp6(13),t.Q6J("formGroup",r.brandForm),t.xp6(5),t.Q6J("ngIf",r.brandForm.controls.name.invalid&&r.brandForm.controls.name.touched),t.xp6(1),t.Q6J("disabled",r.brandForm.invalid))},dependencies:[c.O5,d.rH,d.yS,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]}),n})();var D=u(9585),I=u(9628),S=u(907),w=u(4826),q=u(5351),O=u(6134);const J=[{path:"",component:b,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Z},{path:"edit/:id",component:U},{path:"create",component:F}]}];let N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,d.Bz.forChild(J),D.xD,I.L,S.dD,w.bB,q.bQ.forRoot({animation:150,ghostClass:"bg-light"}),O.ii.forRoot(),s.UX]}),n})()}}]);
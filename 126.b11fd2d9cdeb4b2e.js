"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[126],{6126:(w,h,s)=>{s.r(h),s.d(h,{CategoriesModule:()=>q});var d=s(6895),e=s(4650),m=s(265);let f=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-categories"]],decls:1,vars:0,template:function(t,r){1&t&&e._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2}),n})();var b=s(9585),E=s(9628),C=s(907),v=s(4826),T=s(5351),Z=s(6134),a=s(433),y=s(5226),i=s.n(y),g=s(9338);function A(n,u){1&n&&(e.TgZ(0,"div",17),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng t\xean danh m\u1ee5c "),e.qZA())}let D=(()=>{class n{constructor(t,r){this.categories=t,this.router=r,this.categoryForm=new a.cw({name:new a.NI("",a.kI.required)})}ngOnInit(){}onSubmit(){if(this.categoryForm.valid){const t={name:this.categoryForm.value.name||"",created_at:new Date,updated_at:null};this.categories.create(t).subscribe(r=>{if(1==r.status)this.categoryForm.reset(),i().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"Th\xeam th\xe0nh c\xf4ng",icon:"success",timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",i().stopTimer),o.addEventListener("mouseleave",i().resumeTimer)}}),this.router.navigate(["../categories/list"]);else{console.log(r);const o=[];for(const c in r.meta.errors)o.push(...r.meta.errors[c]);const l=o.join(" ");i().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:l,icon:"error",timerProgressBar:!0,didOpen:c=>{c.addEventListener("mouseenter",i().stopTimer),c.addEventListener("mouseleave",i().resumeTimer)}})}},r=>{console.log(r),i().fire("L\u1ed7i!","C\xf3 l\u1ed7i x\u1ea3y ra khi g\u1eedi d\u1eef li\u1ec7u.","error")})}else alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.G),e.Y36(m.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create"]],decls:23,vars:3,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputUsername1",1,"form-label"],["type","text","id","exampleInputUsername1","formControlName","name","autocomplete","off","placeholder","Nh\u1eadp t\xean danh m\u1ee5c",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["routerLink","/categories/list",1,"btn","btn-secondary"],[1,"alert","alert-danger","mt-2"]],template:function(t,r){1&t&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Danh m\u1ee5c"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"Th\xeam m\u1edbi danh m\u1ee5c"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),e._uU(12,"Th\xeam m\u1edbi Danh m\u1ee5c"),e.qZA(),e.TgZ(13,"form",10),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(14,"div",11)(15,"label",12),e._uU(16,"T\xean Danh m\u1ee5c"),e.qZA(),e._UZ(17,"input",13),e.YNc(18,A,2,0,"div",14),e.qZA(),e.TgZ(19,"button",15),e._uU(20,"T\u1ea1o m\u1edbi"),e.qZA(),e.TgZ(21,"button",16),e._uU(22,"Tr\u1edf v\u1ec1"),e.qZA()()()()()()),2&t&&(e.xp6(13),e.Q6J("formGroup",r.categoryForm),e.xp6(5),e.Q6J("ngIf",r.categoryForm.controls.name.invalid&&r.categoryForm.controls.name.touched),e.xp6(1),e.Q6J("disabled",r.categoryForm.invalid))},dependencies:[d.O5,m.rH,m.yS,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),n})();var p=s(2366),x=s(9751),L=s(9646);const U=function(n){return["../edit",n]};function F(n,u){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td")(9,"a",14),e._uU(10,"S\u1eeda"),e.qZA(),e.TgZ(11,"button",15),e._uU(12,"X\xf3a"),e.qZA()()()),2&n){const t=u.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("",e.xi3(7,5,t.created_at,"dd-MM-yyyy")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(8,U,t.id)),e.xp6(2),e.s9C("id",t.id)}}function S(n,u){1&n&&(e.TgZ(0,"div",17),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng t\xean danh m\u1ee5c "),e.qZA())}const I=[{path:"",component:f,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class n{constructor(t){this.categoriesService=t,this.ListsCategories=new x.y}ngOnInit(){this.refreshCategories()}ngAfterViewInit(){this.ListsCategories.subscribe(()=>{setTimeout(()=>{new p.w("#dataTableExample").on("datatable.init",()=>{this.addDeleteEventHandlers()})},0)})}addDeleteEventHandlers(){const t=document.getElementsByClassName("btn-danger");Array.from(t).forEach(r=>{r.addEventListener("click",o=>{const l=o.target.getAttribute("id");this.deleteCategory(Number(l))})})}deleteCategory(t){i().fire({title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ho\xe0n t\xe1c l\u1ea1i h\xe0nh \u0111\u1ed9ng n\xe0y!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"C\xf3, x\xf3a n\xf3!"}).then(r=>{r.isConfirmed&&this.categoriesService.delete(t).subscribe(o=>{i().fire("\u0110\xe3 x\xf3a!","Danh m\u1ee5c c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a.","success"),this.refreshCategories()},o=>{0==o.success&&i().fire("L\u1ed7i!",`${o.meta.name}`,"error")})})}refreshCategories(){this.categoriesService.GetData().subscribe(t=>{1==t.status&&(this.ListsCategories=(0,L.of)(t.payload.data),this.ListsCategories.subscribe(r=>{setTimeout(()=>{new p.w("#dataTableExample").on("datatable.init",()=>{this.addDeleteEventHandlers()})},0)}))},t=>{console.log(t),i().fire("L\u1ed7i!","C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a danh m\u1ee5c.","error")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-categories-list"]],decls:38,vars:3,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["routerLink","/categories/create","type","button",1,"btn","btn-primary"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","mx-2",3,"routerLink"],[1,"btn","btn-danger",3,"id"]],template:function(t,r){1&t&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Danh m\u1ee5c"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"Danh m\u1ee5c kh\xe1ch h\xe0ng"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),e._uU(12,"Qu\u1ea3n l\xed danh m\u1ee5c"),e.qZA(),e.TgZ(13,"button",10),e._uU(14,"Th\xeam m\u1edbi"),e.qZA(),e.TgZ(15,"div",11)(16,"table",12)(17,"thead")(18,"tr")(19,"th"),e._uU(20,"ID"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"T\xcaN DANH M\u1ee4C"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"TH\u1edcI GIAN T\u1ea0O"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"H\xc0NH \u0110\u1ed8NG"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,F,13,10,"tr",13),e.ALo(29,"async"),e.qZA(),e.TgZ(30,"tfoot")(31,"tr"),e._UZ(32,"th")(33,"th")(34,"th")(35,"th")(36,"th")(37,"th"),e.qZA()()()()()()()()),2&t&&(e.xp6(28),e.Q6J("ngForOf",e.lcZ(29,1,r.ListsCategories)))},dependencies:[d.sg,m.rH,m.yS,d.Ov,d.uU]}),n})()},{path:"edit/:id",component:(()=>{class n{constructor(t,r,o){this.categories=t,this.route=r,this.router=o,this.categoryForm=new a.cw({name:new a.NI("",a.kI.required)})}ngOnInit(){this.route.paramMap.subscribe(t=>{const r=t.get("id");null!==r?(this.id=r,this.categories.GetOneRecord(r).subscribe(o=>{this.categoryForm.patchValue(o.payload)},o=>{i().fire("L\u1ed7i!","C\xf3 l\u1ed7i x\u1ea3y ra khi g\u1eedi d\u1eef li\u1ec7u.","error")})):this.router.navigate(["../categories/list"])})}onSubmit(){if(this.categoryForm.valid){const t={...this.categoryForm.value,updated_at:(new Date).toISOString(),id:this.id};this.categories.update(t).subscribe(r=>{if(1==r.status)i().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success",timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",i().stopTimer),o.addEventListener("mouseleave",i().resumeTimer)}}),this.router.navigate(["/categories/list"]);else{console.log(r);const o=[];for(const c in r.meta.errors)o.push(...r.meta.errors[c]);const l=o.join(" ");i().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:l,icon:"error",timerProgressBar:!0,didOpen:c=>{c.addEventListener("mouseenter",i().stopTimer),c.addEventListener("mouseleave",i().resumeTimer)}})}},r=>{i().fire("L\u1ed7i!","C\xf3 l\u1ed7i x\u1ea3y ra khi g\u1eedi d\u1eef li\u1ec7u.","error")})}else alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.G),e.Y36(m.gz),e.Y36(m.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-categories"]],decls:23,vars:3,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputUsername1",1,"form-label"],["type","text","id","exampleInputUsername1","formControlName","name","autocomplete","off","placeholder","Nh\u1eadp t\xean danh m\u1ee5c",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["routerLink","/categories/list",1,"btn","btn-secondary"],[1,"alert","alert-danger","mt-2"]],template:function(t,r){1&t&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Danh m\u1ee5c"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"C\u1eadp nh\u1eadt danh m\u1ee5c"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),e._uU(12,"C\u1eadp nh\u1eadt danh m\u1ee5c"),e.qZA(),e.TgZ(13,"form",10),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(14,"div",11)(15,"label",12),e._uU(16,"T\xean Danh m\u1ee5c"),e.qZA(),e._UZ(17,"input",13),e.YNc(18,S,2,0,"div",14),e.qZA(),e.TgZ(19,"button",15),e._uU(20,"C\u1eadp nh\u1eadt"),e.qZA(),e.TgZ(21,"button",16),e._uU(22,"Tr\u1edf v\u1ec1"),e.qZA()()()()()()),2&t&&(e.xp6(13),e.Q6J("formGroup",r.categoryForm),e.xp6(5),e.Q6J("ngIf",r.categoryForm.controls.name.invalid&&r.categoryForm.controls.name.touched),e.xp6(1),e.Q6J("disabled",r.categoryForm.invalid))},dependencies:[d.O5,m.rH,m.yS,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),n})()},{path:"create",component:D}]}];let q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,m.Bz.forChild(I),b.xD,E.L,C.dD,v.bB,T.bQ.forRoot({animation:150,ghostClass:"bg-light"}),Z.ii.forRoot(),a.UX]}),n})()}}]);
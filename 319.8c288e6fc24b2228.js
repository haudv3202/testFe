"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[319],{8319:(z,h,l)=>{l.r(h),l.d(h,{AuthModule:()=>G});var g=l(6895),e=l(4650),u=l(265);let v=(()=>{class t{constructor(o,n){this.router=o,this.route=n}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.F0),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:17,vars:0,consts:[[1,"content-inner__body-title","mb-4","text-center"],["routerLink","by-enterprise","type","button",1,"btn","btn-primary","btn-in-login","w-100","mb-3"],["routerLink","by-staff",1,"btn","btn-primary","btn-in-login","w-100","mb-3"],[2,"display","flex","align-items","center","gap","10px","margin-bottom","10px"],[1,"w-100"],[1,"content-inner__body-start","f14","mt-4","mbHiden"],["routerLink","/auth/register",1,"link-primary-color"]],template:function(o,n){1&o&&(e.TgZ(0,"h2",0),e._uU(1,"\u0110\u0103ng nh\u1eadp"),e.qZA(),e.TgZ(2,"a",1)(3,"span"),e._uU(4,"B\u1ea1n l\xe0 ch\u1ee7 doanh nghi\u1ec7p"),e.qZA()(),e.TgZ(5,"a",2)(6,"span"),e._uU(7,"B\u1ea1n l\xe0 nh\xe2n vi\xean"),e.qZA()(),e.TgZ(8,"div",3),e._UZ(9,"hr",4),e.TgZ(10,"span"),e._uU(11,"ho\u1eb7c"),e.qZA(),e._UZ(12,"hr",4),e.qZA(),e.TgZ(13,"p",5),e._uU(14," Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? "),e.TgZ(15,"a",6),e._uU(16," B\u1eaft \u0111\u1ea7u ngay "),e.qZA()())},dependencies:[u.yS]}),t})();var r=l(433),E=l(5226),s=l.n(E),d=l(7878),c=l(7094),f=l(8747);function Z(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng h\u1ecd t\xean "),e.qZA())}function b(t,a){if(1&t&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessages.name," ")}}function T(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng email "),e.qZA())}function A(t,a){if(1&t&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessages.email," ")}}function y(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng m\u1eadt kh\u1ea9u "),e.qZA())}function C(t,a){if(1&t&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessages.password," ")}}function x(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u "),e.qZA())}function w(t,a){if(1&t&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessages.confirm_password," ")}}let U=(()=>{class t{constructor(o,n,i,m,p){this.router=o,this.route=n,this.authService=i,this.localStorageService=m,this.tenantService=p,this.simpleItems=[],this.form=new r.cw({name:new r.NI("",[r.kI.required]),email:new r.NI("",[r.kI.required]),password:new r.NI("",r.kI.required),confirm_password:new r.NI("",r.kI.required)}),this.errorMessages=[]}ngOnInit(){}onSubmit(){this.errorMessages=[],this.form.valid?this.authService.register({name:this.form.value.name||"",email:this.form.value.email||"",password:this.form.value.password,confirm_password:this.form.value.confirm_password}).subscribe(n=>{if(1==n.status)this.localStorageService.set("tenant_token",n.payload),s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng",icon:"success",timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",s().stopTimer),i.addEventListener("mouseleave",s().resumeTimer)}}),setTimeout(()=>{this.router.navigate(["auth/login/by-enterprise/tenants"])},500);else{let i="";"string"==typeof n.meta?i=n.meta:(this.errorMessages=n.meta,this.errorMessages.domain_name&&(i=this.errorMessages.domain_name)),s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:i,icon:"error",timerProgressBar:!0,didOpen:m=>{m.addEventListener("mouseenter",s().stopTimer),m.addEventListener("mouseleave",s().resumeTimer)}})}},n=>{0==n.error.status&&s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"C\xf3 l\u1ed7i x\u1ea3y ra",icon:"error",timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",s().stopTimer),i.addEventListener("mouseleave",s().resumeTimer)}})}):alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(d.e),e.Y36(c.n),e.Y36(f.a))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:39,vars:10,consts:[[1,"content-inner__body-title","mb-4","text-center"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputName",1,"form-label"],["type","email","id","exampleInputName","placeholder","H\u1ecd t\xean","value","","formControlName","name",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","placeholder","Email","value","","formControlName","email",1,"form-control"],[1,"form-label"],["type","text","formControlName","password","placeholder","M\u1eadt kh\u1ea9u","value","",1,"form-control"],["type","text","formControlName","confirm_password","placeholder","Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u","value","",1,"form-control"],["type","submit",1,"btn","btn-primary","me-2","mb-2","mb-md-0",3,"disabled"],[2,"display","flex","align-items","center","gap","10px","margin-bottom","10px"],[1,"w-100"],[1,"content-inner__body-start","f14","mt-4","mbHiden"],["routerLink","/auth/login",1,"link-primary-color"],[1,"alert","alert-danger","mt-2"]],template:function(o,n){1&o&&(e.TgZ(0,"h2",0),e._uU(1,"\u0110\u0103ng k\xfd"),e.qZA(),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",2)(4,"label",3),e._uU(5,"H\u1ecd t\xean"),e.qZA(),e._UZ(6,"input",4),e.YNc(7,Z,2,0,"div",5),e.YNc(8,b,2,1,"div",5),e.qZA(),e.TgZ(9,"div",2)(10,"label",6),e._uU(11,"Email"),e.qZA(),e._UZ(12,"input",7),e.YNc(13,T,2,0,"div",5),e.YNc(14,A,2,1,"div",5),e.qZA(),e.TgZ(15,"div",2)(16,"label",8),e._uU(17,"M\u1eadt kh\u1ea9u"),e.qZA(),e._UZ(18,"input",9),e.YNc(19,y,2,0,"div",5),e.YNc(20,C,2,1,"div",5),e.qZA(),e.TgZ(21,"div",2)(22,"label",8),e._uU(23,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"),e.qZA(),e._UZ(24,"input",10),e.YNc(25,x,2,0,"div",5),e.YNc(26,w,2,1,"div",5),e.qZA(),e.TgZ(27,"div")(28,"button",11),e._uU(29," \u0110\u0103ng k\xfd "),e.qZA()()(),e.TgZ(30,"div",12),e._UZ(31,"hr",13),e.TgZ(32,"span"),e._uU(33,"ho\u1eb7c"),e.qZA(),e._UZ(34,"hr",13),e.qZA(),e.TgZ(35,"p",14),e._uU(36," \u0110\xe3 c\xf3 t\xe0i kho\u1ea3n? "),e.TgZ(37,"a",15),e._uU(38," \u0110\u0103ng nh\u1eadp ngay "),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("ngIf",n.form.controls.name.invalid&&n.form.controls.name.touched),e.xp6(1),e.Q6J("ngIf",n.errorMessages.name),e.xp6(5),e.Q6J("ngIf",n.form.controls.email.invalid&&n.form.controls.email.touched),e.xp6(1),e.Q6J("ngIf",n.errorMessages.email),e.xp6(5),e.Q6J("ngIf",n.form.controls.password.invalid&&n.form.controls.password.touched),e.xp6(1),e.Q6J("ngIf",n.errorMessages.password),e.xp6(5),e.Q6J("ngIf",n.form.controls.confirm_password.invalid&&n.form.controls.confirm_password.touched),e.xp6(1),e.Q6J("ngIf",n.errorMessages.confirm_password),e.xp6(2),e.Q6J("disabled",n.form.invalid))},dependencies:[g.O5,u.yS,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),t})(),B=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-auth"]],decls:1,vars:0,template:function(o,n){1&o&&e._UZ(0,"router-outlet")},dependencies:[u.lC],encapsulation:2}),t})();function F(t,a){1&t&&(e.TgZ(0,"div",13),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng email "),e.qZA())}function S(t,a){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessages.email," ")}}function I(t,a){1&t&&(e.TgZ(0,"div",13),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng m\u1eadt kh\u1ea9u "),e.qZA())}function q(t,a){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessages.password," ")}}let L=(()=>{class t{constructor(o,n,i,m){this.router=o,this.route=n,this.authService=i,this.localStorageService=m,this.simpleItems=[],this.loginForm=new r.cw({email:new r.NI("tenant_test@gmail.com",r.kI.required),password:new r.NI("12345678",r.kI.required)}),this.errorMessages=[]}ngOnInit(){this.authService.getToken("tenant_token")&&this.router.navigate(["/auth/login/by-enterprise/tenants"])}ngAfterViewInit(){}onSubmit(){this.errorMessages=[],this.loginForm.valid?this.authService.getUserByEnterprise({email:this.loginForm.value.email||"",password:this.loginForm.value.password}).subscribe(n=>{1==n.status?(this.localStorageService.set("tenant_token",n.payload),this.router.navigate(["auth/login/by-enterprise/tenants"])):(this.errorMessages=n.meta,this.errorMessages.domain_name&&s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:this.errorMessages.domain_name,icon:"error",timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",s().stopTimer),i.addEventListener("mouseleave",s().resumeTimer)}}))},n=>{0==n.error.status&&s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:`${n.error.meta.errors.name}`,icon:"error",timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",s().stopTimer),i.addEventListener("mouseleave",s().resumeTimer)}})}):alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(d.e),e.Y36(c.n))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login-by-enterprise"]],decls:27,vars:6,consts:[[1,"content-inner__body-title","mb-4","text-center"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","placeholder","Email","value","","formControlName","email",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","autocomplete","current-password","formControlName","password","placeholder","M\u1eadt kh\u1ea9u","value","",1,"form-control"],["type","submit",1,"btn","btn-primary","me-2","mb-2","mb-md-0",3,"disabled"],[2,"display","flex","align-items","center","gap","10px","margin-bottom","10px"],[1,"w-100"],[1,"content-inner__body-start","f14","mt-4","mbHiden"],["routerLink","/auth/register",1,"link-primary-color"],[1,"alert","alert-danger","mt-2"]],template:function(o,n){1&o&&(e.TgZ(0,"h2",0),e._uU(1,"\u0110\u0103ng nh\u1eadp"),e.qZA(),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",2)(4,"label",3),e._uU(5,"Email"),e.qZA(),e._UZ(6,"input",4),e.YNc(7,F,2,0,"div",5),e.YNc(8,S,2,1,"div",5),e.qZA(),e.TgZ(9,"div",2)(10,"label",6),e._uU(11,"M\u1eadt kh\u1ea9u"),e.qZA(),e._UZ(12,"input",7),e.YNc(13,I,2,0,"div",5),e.YNc(14,q,2,1,"div",5),e.qZA(),e.TgZ(15,"div")(16,"button",8),e._uU(17," Ti\u1ebfp t\u1ee5c "),e.qZA()()(),e.TgZ(18,"div",9),e._UZ(19,"hr",10),e.TgZ(20,"span"),e._uU(21,"ho\u1eb7c"),e.qZA(),e._UZ(22,"hr",10),e.qZA(),e.TgZ(23,"p",11),e._uU(24," Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? "),e.TgZ(25,"a",12),e._uU(26," B\u1eaft \u0111\u1ea7u ngay "),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("formGroup",n.loginForm),e.xp6(5),e.Q6J("ngIf",n.loginForm.controls.email.invalid&&n.loginForm.controls.email.touched),e.xp6(1),e.Q6J("ngIf",n.errorMessages.email),e.xp6(5),e.Q6J("ngIf",n.loginForm.controls.password.invalid&&n.loginForm.controls.password.touched),e.xp6(1),e.Q6J("ngIf",n.errorMessages.password),e.xp6(2),e.Q6J("disabled",n.loginForm.invalid))},dependencies:[g.O5,u.yS,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),t})();function N(t,a){1&t&&(e.TgZ(0,"div",11),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng \u0111\u1ecba ch\u1ec9 \u0111\u0103ng nh\u1eadp "),e.qZA())}let D=(()=>{class t{constructor(o,n,i,m){this.router=o,this.route=n,this.authService=i,this.localStorageService=m,this.simpleItems=[],this.loginForm=new r.cw({domain_name:new r.NI("tenant1",r.kI.required)})}ngOnInit(){}onLoggedin(o){o.preventDefault()}ngAfterViewInit(){}onSubmit(){this.loginForm.valid?this.router.navigate([`auth/login/by-staff/${this.loginForm.value.domain_name}`]):alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(d.e),e.Y36(c.n))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login-by-staff"]],decls:20,vars:3,consts:[[1,"content-inner__body-title","mb-4","text-center"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","","id","exampleInputEmail1","placeholder","\u0110\u1ecba ch\u1ec9 \u0111\u0103ng nh\u1eadp doanh nghi\u1ec7p","value","","formControlName","domain_name",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["type","submit",1,"btn","btn-primary","me-2","mb-2","mb-md-0",3,"disabled"],[2,"display","flex","align-items","center","gap","10px","margin-bottom","10px"],[1,"w-100"],[1,"content-inner__body-start","f14","mt-4","mbHiden"],["routerLink","/auth/register",1,"link-primary-color"],[1,"alert","alert-danger","mt-2"]],template:function(o,n){1&o&&(e.TgZ(0,"h2",0),e._uU(1,"\u0110\u0103ng nh\u1eadp"),e.qZA(),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",2)(4,"label",3),e._uU(5,"\u0110\u1ecba ch\u1ec9 \u0111\u0103ng nh\u1eadp doanh nghi\u1ec7p"),e.qZA(),e._UZ(6,"input",4),e.YNc(7,N,2,0,"div",5),e.qZA(),e.TgZ(8,"div")(9,"button",6),e._uU(10," Ti\u1ebfp t\u1ee5c "),e.qZA()()(),e.TgZ(11,"div",7),e._UZ(12,"hr",8),e.TgZ(13,"span"),e._uU(14,"ho\u1eb7c"),e.qZA(),e._UZ(15,"hr",8),e.qZA(),e.TgZ(16,"p",9),e._uU(17," Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? "),e.TgZ(18,"a",10),e._uU(19," B\u1eaft \u0111\u1ea7u ngay "),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("formGroup",n.loginForm),e.xp6(5),e.Q6J("ngIf",n.loginForm.controls.domain_name.invalid&&n.loginForm.controls.domain_name.touched),e.xp6(2),e.Q6J("disabled",n.loginForm.invalid))},dependencies:[g.O5,u.yS,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),t})();var k=l(1197),_=l(7447);function Y(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){const m=e.CHM(o).$implicit,p=e.oxw();return e.KtG(p.setUser(m.name))}),e.TgZ(1,"div")(2,"h6",10),e._uU(3),e.qZA(),e.TgZ(4,"p",11),e._uU(5),e.qZA()()()}if(2&t){const o=a.$implicit;e.xp6(3),e.Oqu(o.business_name),e.xp6(2),e.hij("nextgo.vn/s/",o.name,"")}}let J=(()=>{class t{constructor(o,n,i,m,p,H){this.router=o,this.route=n,this.authService=i,this.localStorage=m,this.configService=p,this.tenantService=H}ngOnInit(){this.authService.getToken("tenant_token")||this.router.navigate(["/auth/login/by-enterprise"]),this.tenantService.getTenantsByUser().subscribe(o=>{o.status&&(this.tenants=o.payload)})}setUser(o){this.tenants.find(n=>n.name===o)&&this.authService.loginByEnterprise({tenant_name:o}).subscribe(n=>{if(n.status){const i=this.authService.login(n.payload),m=i.status?"/":"/auth/login/";s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:i.msg,icon:i.type,timerProgressBar:!0,didOpen:p=>{p.addEventListener("mouseenter",s().stopTimer),p.addEventListener("mouseleave",s().resumeTimer)}}),setTimeout(()=>{i.status?this.router.navigate([m]).then(()=>{window.location.reload()}):this.router.navigate([m])},1500)}})}redirectToLogin(){this.localStorage.remove("tenant_token"),this.router.navigate(["/auth/login"])}redirectToCreateNewTenant(){this.router.navigate(["tenant/create"])}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(d.e),e.Y36(c.n),e.Y36(_.E),e.Y36(f.a))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-list-tenant"]],decls:16,vars:1,consts:[[1,"content-inner__body-title","mb-2"],[1,"f14","text-second","mb-4"],["routerLink","/tenant/create","type","button",1,"btn","btn-primary","mb-4"],[1,"content-inner__body-list","mb-4"],["class","\n                content-inner__body-item\n                d-flex\n                justify-content-between\n                align-items-center\n                mb-3\n              ",3,"click",4,"ngFor","ngForOf"],[2,"display","flex","align-items","center","gap","10px","margin-bottom","10px"],[1,"w-100"],[1,"content-inner__body-start","f14","mt-4","mbHiden"],[1,"link-primary-color",3,"click"],[1,"content-inner__body-item","d-flex","justify-content-between","align-items-center","mb-3",3,"click"],[1,"f14","fw600"],[1,"f14","text-second-color"]],template:function(o,n){1&o&&(e.TgZ(0,"h2",0),e._uU(1,"Ch\u1ecdn doanh nghi\u1ec7p"),e.qZA(),e.TgZ(2,"p",1),e._uU(3,"\u0111\u1ec3 ho\xe0n t\u1ea5t \u0111\u0103ng nh\u1eadp NextGo"),e.qZA(),e.TgZ(4,"a",2),e._uU(5," T\u1ea0O DOANH NGHI\u1ec6P M\u1edaI"),e.qZA(),e.TgZ(6,"div",3),e.YNc(7,Y,6,2,"div",4),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"hr",6),e.TgZ(10,"span"),e._uU(11,"ho\u1eb7c"),e.qZA(),e._UZ(12,"hr",6),e.qZA(),e.TgZ(13,"p",7)(14,"a",8),e.NdJ("click",function(){return n.redirectToLogin()}),e._uU(15," \u0110\u0103ng nh\u1eadp b\u1eb1ng t\xe0i kho\u1ea3n kh\xe1c "),e.qZA()()),2&o&&(e.xp6(7),e.Q6J("ngForOf",n.tenants))},dependencies:[g.sg,u.yS],styles:[".content-inner__body-item[_ngcontent-%COMP%]{height:62px;padding:10px 16px;background:#fff;border:.5px solid #e6e6e6;border-radius:8px;cursor:pointer}"]}),t})();function M(t,a){1&t&&(e.TgZ(0,"div",13),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng email "),e.qZA())}function O(t,a){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessages.email," ")}}function Q(t,a){1&t&&(e.TgZ(0,"div",13),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng m\u1eadt kh\u1ea9u "),e.qZA())}function j(t,a){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessages.password," ")}}let P=(()=>{class t{constructor(o,n,i,m,p){this.router=o,this.route=n,this.authService=i,this.localStorageService=m,this.configService=p,this.simpleItems=[],this.loginForm=new r.cw({email:new r.NI("staff1@gmail.com",r.kI.required),password:new r.NI("12345678",r.kI.required)}),this.errorMessages=[]}ngOnInit(){this.route.params.subscribe(o=>{this.params=o})}ngAfterViewInit(){}onSubmit(){this.errorMessages=[],this.loginForm.valid?this.authService.loginByStaff({domain_name:this.params.domain_name,email:this.loginForm.value.email||"",password:this.loginForm.value.password}).subscribe(n=>{if(1==n.status){const i=this.authService.login(n.payload),m=i.status?"/":"/auth/login/";s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:i.msg,icon:i.type,timerProgressBar:!0,didOpen:p=>{p.addEventListener("mouseenter",s().stopTimer),p.addEventListener("mouseleave",s().resumeTimer)}}),setTimeout(()=>{i.status?this.router.navigate([m]).then(()=>{window.location.reload()}):this.router.navigate([m])},1500)}else this.errorMessages=n.meta,this.errorMessages.domain_name&&s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:this.errorMessages.domain_name,icon:"error",timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",s().stopTimer),i.addEventListener("mouseleave",s().resumeTimer)}})},n=>{0==n.error.status&&s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:`${n.error.meta.errors.name}`,icon:"error",timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",s().stopTimer),i.addEventListener("mouseleave",s().resumeTimer)}})}):alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(d.e),e.Y36(c.n),e.Y36(_.E))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login-by-domain-name"]],decls:27,vars:7,consts:[[1,"content-inner__body-title","mb-4","text-center"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","placeholder","Email","value","","formControlName","email",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","autocomplete","current-password","formControlName","password","placeholder","M\u1eadt kh\u1ea9u","value","",1,"form-control"],["type","submit",1,"btn","btn-primary","me-2","mb-2","mb-md-0",3,"disabled"],[2,"display","flex","align-items","center","gap","10px","margin-bottom","10px"],[1,"w-100"],[1,"content-inner__body-start","f14","mt-4","mbHiden"],["routerLink","/auth/register",1,"link-primary-color"],[1,"alert","alert-danger","mt-2"]],template:function(o,n){1&o&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",2)(4,"label",3),e._uU(5,"Email"),e.qZA(),e._UZ(6,"input",4),e.YNc(7,M,2,0,"div",5),e.YNc(8,O,2,1,"div",5),e.qZA(),e.TgZ(9,"div",2)(10,"label",6),e._uU(11,"M\u1eadt kh\u1ea9u"),e.qZA(),e._UZ(12,"input",7),e.YNc(13,Q,2,0,"div",5),e.YNc(14,j,2,1,"div",5),e.qZA(),e.TgZ(15,"div")(16,"button",8),e._uU(17,"\u0110\u0103ng nh\u1eadp "),e.qZA()()(),e.TgZ(18,"div",9),e._UZ(19,"hr",10),e.TgZ(20,"span"),e._uU(21,"ho\u1eb7c"),e.qZA(),e._UZ(22,"hr",10),e.qZA(),e.TgZ(23,"p",11),e._uU(24," Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? "),e.TgZ(25,"a",12),e._uU(26," B\u1eaft \u0111\u1ea7u ngay "),e.qZA()()),2&o&&(e.xp6(1),e.hij("\u0110\u0103ng nh\u1eadp t\u1edbi ",n.params.domain_name,""),e.xp6(1),e.Q6J("formGroup",n.loginForm),e.xp6(5),e.Q6J("ngIf",n.loginForm.controls.email.invalid&&n.loginForm.controls.email.touched),e.xp6(1),e.Q6J("ngIf",n.errorMessages.email),e.xp6(5),e.Q6J("ngIf",n.loginForm.controls.password.invalid&&n.loginForm.controls.password.touched),e.xp6(1),e.Q6J("ngIf",n.errorMessages.password),e.xp6(2),e.Q6J("disabled",n.loginForm.invalid))},dependencies:[g.O5,u.yS,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),t})();var K=l(8796);const R=[{path:"",component:B,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:v},{path:"login/by-enterprise",component:L},{path:"login/by-enterprise/tenants",component:J},{path:"login/by-staff",component:D},{path:"login/by-staff/:domain_name",component:P},{path:"register",component:U}]}];let G=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,u.Bz.forChild(R),k.U,r.UX,K.A0]}),t})()}}]);
"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[949],{6949:(P,g,s)=>{s.r(g),s.d(g,{WarrantiesModule:()=>H});var c=s(6895),E=s(2366),f=s(9751),b=s(9646),v=s(5226),u=s.n(v),e=s(4650),p=s(4971),m=s(265);function T(t,o){if(1&t&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij("",n.period," ng\xe0y")}}function A(t,o){if(1&t&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij("",n.period," th\xe1ng")}}function C(t,o){if(1&t&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij("",n.period," n\u0103m")}}const Z=function(t){return["../edit",t]};function w(t,o){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,T,2,1,"td",14),e.YNc(6,A,2,1,"td",14),e.YNc(7,C,2,1,"td",14),e.TgZ(8,"td")(9,"a",15),e._uU(10,"S\u1eeda"),e.qZA(),e.TgZ(11,"button",16),e._uU(12,"X\xf3a"),e.qZA()()()),2&t){const n=o.$implicit;e.xp6(2),e.Oqu(n.id),e.xp6(2),e.Oqu(n.name),e.xp6(1),e.Q6J("ngIf",0==n.unit),e.xp6(1),e.Q6J("ngIf",1==n.unit),e.xp6(1),e.Q6J("ngIf",2==n.unit),e.xp6(2),e.Q6J("routerLink",e.VKq(7,Z,n.id)),e.xp6(2),e.s9C("id",n.id)}}let F=(()=>{class t{constructor(n){this.warrantiesService=n,this.Warranties=new f.y}ngOnInit(){this.refreshCategories()}ngAfterViewInit(){this.Warranties.subscribe(()=>{setTimeout(()=>{new E.w("#dataTableExample").on("datatable.init",()=>{this.addDeleteEventHandlers()})},0)})}addDeleteEventHandlers(){const n=document.getElementsByClassName("btn-danger");Array.from(n).forEach(r=>{r.addEventListener("click",a=>{const d=a.target.getAttribute("id");this.deleteCategory(Number(d))})})}deleteCategory(n){u().fire({title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ho\xe0n t\xe1c l\u1ea1i h\xe0nh \u0111\u1ed9ng n\xe0y!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"C\xf3, x\xf3a n\xf3!"}).then(r=>{r.isConfirmed&&this.warrantiesService.delete(n).subscribe(a=>{u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"Danh m\u1ee5c b\u1ea3o h\xe0nh c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a.",icon:"success",timerProgressBar:!0,didOpen:d=>{d.addEventListener("mouseenter",u().stopTimer),d.addEventListener("mouseleave",u().resumeTimer)}}),location.reload()},a=>{u().fire("L\u1ed7i!","C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a danh m\u1ee5c.","error")})})}refreshCategories(){this.warrantiesService.GetData().subscribe(n=>{1==n.status&&(this.Warranties=(0,b.of)(n.payload.data),this.Warranties.subscribe(r=>{setTimeout(()=>{new E.w("#dataTableExample").on("datatable.init",()=>{this.addDeleteEventHandlers()})},0)}))},n=>{u().fire("L\u1ed7i!","C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a danh m\u1ee5c.","error")})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.K))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-list"]],decls:38,vars:3,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["routerLink","/warranties/create","type","button",1,"btn","btn-primary"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-success","mx-2",3,"routerLink"],[1,"btn","btn-danger",3,"id"]],template:function(n,r){1&n&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"B\u1ea3o h\xe0nh"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"Danh m\u1ee5c b\u1ea3o h\xe0nh"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),e._uU(12,"Qu\u1ea3n l\xed B\u1ea3o h\xe0nh"),e.qZA(),e.TgZ(13,"button",10),e._uU(14,"Th\xeam m\u1edbi"),e.qZA(),e.TgZ(15,"div",11)(16,"table",12)(17,"thead")(18,"tr")(19,"th"),e._uU(20,"ID"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"T\xcaN DANH M\u1ee4C"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Th\u1eddi h\u1ea1n b\u1ea3o h\xe0nh"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"H\xc0NH \u0110\u1ed8NG"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,w,13,9,"tr",13),e.ALo(29,"async"),e.qZA(),e.TgZ(30,"tfoot")(31,"tr"),e._UZ(32,"th")(33,"th")(34,"th")(35,"th")(36,"th")(37,"th"),e.qZA()()()()()()()()),2&n&&(e.xp6(28),e.Q6J("ngForOf",e.lcZ(29,1,r.Warranties)))},dependencies:[c.sg,c.O5,m.rH,m.yS,c.Ov]}),t})();var i=s(433),h=s(8796);function D(t,o){1&t&&(e.TgZ(0,"div",22),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng t\xean b\u1ea3o h\xe0nh "),e.qZA())}function _(t,o){if(1&t&&(e.TgZ(0,"ng-option",23),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}function x(t,o){1&t&&(e.TgZ(0,"div",22),e._uU(1," Ch\u1ecdn ki\u1ec3u b\u1ea3o h\xe0nh "),e.qZA())}function y(t,o){1&t&&(e.TgZ(0,"div",22),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng th\u1eddi h\u1ea1n b\u1ea3o h\xe0nh "),e.qZA())}function U(t,o){1&t&&(e.TgZ(0,"div",22),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng th\u1eddi h\u1ea1n vui l\xf2ng tr\xean 0 "),e.qZA())}let q=(()=>{class t{constructor(n,r){this.wanrrities=n,this.router=r,this.simpleItems=[],this.warrantiesForm=new i.cw({name:new i.NI("",i.kI.required),period:new i.NI("",[i.kI.required,i.kI.min(0)]),unittype:new i.NI("",i.kI.required)})}ngOnInit(){this.simpleItems=[{id:0,name:"Ng\xe0y"},{id:1,name:"Th\xe1ng"},{id:2,name:"N\u0103m"}]}onSubmit(){if(this.warrantiesForm.valid){const n={name:this.warrantiesForm.value.name||"",unit:Number(this.warrantiesForm.value.unittype),period:Number(this.warrantiesForm.value.period),created_date:new Date,update_date:null};this.wanrrities.create(n).subscribe(r=>{if(1==r.status)this.warrantiesForm.reset(),u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"Th\xeam th\xe0nh c\xf4ng",icon:"success",timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",u().stopTimer),a.addEventListener("mouseleave",u().resumeTimer)}}),this.router.navigate(["../warranties/list"]);else{console.log(r);const a=[];for(const l in r.meta.errors)a.push(...r.meta.errors[l]);const d=a.join(" ");u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:d,icon:"error",timerProgressBar:!0,didOpen:l=>{l.addEventListener("mouseenter",u().stopTimer),l.addEventListener("mouseleave",u().resumeTimer)}})}},r=>{0==r.error.status&&u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:`${r.error.meta.errors.name}`,icon:"error",timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",u().stopTimer),a.addEventListener("mouseleave",u().resumeTimer)}})})}else alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.K),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-create"]],decls:35,vars:8,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","namewarrities",1,"form-label"],["type","text","id","namewarrities","formControlName","name","autocomplete","off","placeholder","Nh\u1eadp t\xean danh m\u1ee5c",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["for","unittype",1,"form-label"],["formControlName","unittype","placeholder","Ch\u1ecdn Ki\u1ec3u b\u1ea3o h\xe0nh",3,"searchable"],[3,"value",4,"ngFor","ngForOf"],["for","exampleInputUsername1",1,"form-label"],["type","number","id","exampleInputUsername1","ngModel","","min","1","formControlName","period","autocomplete","off","placeholder","Th\u1eddi h\u1ea1n b\u1ea3o h\xe0nh",1,"form-control"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["routerLink","/warranties/list",1,"btn","btn-secondary"],[1,"alert","alert-danger","mt-2"],[3,"value"]],template:function(n,r){1&n&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Danh m\u1ee5c"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"Th\xeam m\u1edbi danh m\u1ee5c b\u1ea3o h\xe0nh"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),e._uU(12,"Th\xeam m\u1edbi b\u1ea3o h\xe0nh"),e.qZA(),e.TgZ(13,"form",10),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(14,"div",11)(15,"label",12),e._uU(16,"T\xean Lo\u1ea1i b\u1ea3o h\xe0nh"),e.qZA(),e._UZ(17,"input",13),e.YNc(18,D,2,0,"div",14),e.qZA(),e.TgZ(19,"div",11)(20,"label",15),e._uU(21,"Ch\u1ecdn ki\u1ec3u b\u1ea3o h\xe0nh"),e.qZA(),e.TgZ(22,"ng-select",16),e.YNc(23,_,2,2,"ng-option",17),e.qZA(),e.YNc(24,x,2,0,"div",14),e.qZA(),e.TgZ(25,"div",11)(26,"label",18),e._uU(27,"Th\u1eddi h\u1ea1n b\u1ea3o h\xe0nh"),e.qZA(),e._UZ(28,"input",19),e.YNc(29,y,2,0,"div",14),e.YNc(30,U,2,0,"div",14),e.qZA(),e.TgZ(31,"button",20),e._uU(32,"T\u1ea1o m\u1edbi"),e.qZA(),e.TgZ(33,"button",21),e._uU(34,"Tr\u1edf v\u1ec1"),e.qZA()()()()()()),2&n&&(e.xp6(13),e.Q6J("formGroup",r.warrantiesForm),e.xp6(5),e.Q6J("ngIf",r.warrantiesForm.controls.name.invalid&&r.warrantiesForm.controls.name.touched),e.xp6(4),e.Q6J("searchable",!0),e.xp6(1),e.Q6J("ngForOf",r.simpleItems),e.xp6(1),e.Q6J("ngIf",r.warrantiesForm.controls.unittype.invalid&&r.warrantiesForm.controls.unittype.touched),e.xp6(5),e.Q6J("ngIf",r.warrantiesForm.controls.period.invalid&&r.warrantiesForm.controls.period.touched),e.xp6(1),e.Q6J("ngIf",null==r.warrantiesForm.controls.period.errors?null:r.warrantiesForm.controls.period.errors.min),e.xp6(1),e.Q6J("disabled",r.warrantiesForm.invalid))},dependencies:[c.sg,c.O5,m.rH,m.yS,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.qQ,i.sg,i.u,h.w9,h.jq]}),t})();function I(t,o){1&t&&(e.TgZ(0,"div",22),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng t\xean b\u1ea3o h\xe0nh "),e.qZA())}function L(t,o){if(1&t&&(e.TgZ(0,"ng-option",23),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}function N(t,o){1&t&&(e.TgZ(0,"div",22),e._uU(1," Ch\u1ecdn ki\u1ec3u b\u1ea3o h\xe0nh "),e.qZA())}function B(t,o){1&t&&(e.TgZ(0,"div",22),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng th\u1eddi h\u1ea1n b\u1ea3o h\xe0nh "),e.qZA())}function J(t,o){1&t&&(e.TgZ(0,"div",22),e._uU(1," Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng th\u1eddi h\u1ea1n vui l\xf2ng tr\xean 0 "),e.qZA())}let O=(()=>{class t{constructor(n,r,a){this.WarrantiesService=n,this.route=r,this.router=a,this.simpleItems=[],this.warrantiesForm=new i.cw({name:new i.NI("",i.kI.required),period:new i.NI("",[i.kI.required,i.kI.min(0)]),unit:new i.NI("",i.kI.required)})}ngOnInit(){this.simpleItems=[{id:0,name:"Ng\xe0y"},{id:1,name:"Th\xe1ng"},{id:2,name:"N\u0103m"}],this.route.paramMap.subscribe(n=>{const r=n.get("id");null!==r?(this.id=r,this.WarrantiesService.GetOneRecord(r).subscribe(a=>{u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"T\u1ea3i d\u1eef li\u1ec7u th\xe0nh c\xf4ng",icon:"success",timerProgressBar:!0,didOpen:d=>{d.addEventListener("mouseenter",u().stopTimer),d.addEventListener("mouseleave",u().resumeTimer)}}),this.warrantiesForm.patchValue(a.payload)},a=>{u().fire("L\u1ed7i!","C\xf3 l\u1ed7i x\u1ea3y ra khi g\u1eedi d\u1eef li\u1ec7u.","error")})):this.router.navigate(["../categories/list"])})}onSubmit(){if(this.warrantiesForm.valid){const n={...this.warrantiesForm.value,updated_at:(new Date).toISOString(),id:this.id};this.WarrantiesService.update(n).subscribe(r=>{if(1==r.status)this.warrantiesForm.reset(),u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"C\u1eadp nh\u1eadt b\u1ea3o h\xe0nh th\xe0nh c\xf4ng",icon:"success",timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",u().stopTimer),a.addEventListener("mouseleave",u().resumeTimer)}}),this.router.navigate(["/warranties/list"]);else{console.log(r);const a=[];for(const l in r.meta.errors)a.push(...r.meta.errors[l]);const d=a.join(" ");u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:d,icon:"error",timerProgressBar:!0,didOpen:l=>{l.addEventListener("mouseenter",u().stopTimer),l.addEventListener("mouseleave",u().resumeTimer)}})}},r=>{u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"C\xf3 l\u1ed7i x\u1ea3y ra khi g\u1eedi d\u1eef li\u1ec7u.",icon:"error",timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",u().stopTimer),a.addEventListener("mouseleave",u().resumeTimer)}})})}else alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.K),e.Y36(m.gz),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit"]],decls:35,vars:8,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","namewarrities",1,"form-label"],["type","text","id","namewarrities","formControlName","name","autocomplete","off","placeholder","Nh\u1eadp t\xean danh m\u1ee5c",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["for","unittype",1,"form-label"],["formControlName","unit","placeholder","Ch\u1ecdn Ki\u1ec3u b\u1ea3o h\xe0nh",3,"searchable"],[3,"value",4,"ngFor","ngForOf"],["for","exampleInputUsername1",1,"form-label"],["type","number","id","exampleInputUsername1","ngModel","","min","1","formControlName","period","autocomplete","off","placeholder","Th\u1eddi h\u1ea1n b\u1ea3o h\xe0nh",1,"form-control"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["routerLink","/warranties/list",1,"btn","btn-secondary"],[1,"alert","alert-danger","mt-2"],[3,"value"]],template:function(n,r){1&n&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Danh m\u1ee5c"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"Th\xeam m\u1edbi danh m\u1ee5c b\u1ea3o h\xe0nh"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),e._uU(12,"Th\xeam m\u1edbi b\u1ea3o h\xe0nh"),e.qZA(),e.TgZ(13,"form",10),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(14,"div",11)(15,"label",12),e._uU(16,"T\xean Lo\u1ea1i b\u1ea3o h\xe0nh"),e.qZA(),e._UZ(17,"input",13),e.YNc(18,I,2,0,"div",14),e.qZA(),e.TgZ(19,"div",11)(20,"label",15),e._uU(21,"Ch\u1ecdn ki\u1ec3u b\u1ea3o h\xe0nh"),e.qZA(),e.TgZ(22,"ng-select",16),e.YNc(23,L,2,2,"ng-option",17),e.qZA(),e.YNc(24,N,2,0,"div",14),e.qZA(),e.TgZ(25,"div",11)(26,"label",18),e._uU(27,"Th\u1eddi h\u1ea1n b\u1ea3o h\xe0nh"),e.qZA(),e._UZ(28,"input",19),e.YNc(29,B,2,0,"div",14),e.YNc(30,J,2,0,"div",14),e.qZA(),e.TgZ(31,"button",20),e._uU(32,"C\u1eadp nh\u1eadt"),e.qZA(),e.TgZ(33,"button",21),e._uU(34,"Tr\u1edf v\u1ec1"),e.qZA()()()()()()),2&n&&(e.xp6(13),e.Q6J("formGroup",r.warrantiesForm),e.xp6(5),e.Q6J("ngIf",r.warrantiesForm.controls.name.invalid&&r.warrantiesForm.controls.name.touched),e.xp6(4),e.Q6J("searchable",!0),e.xp6(1),e.Q6J("ngForOf",r.simpleItems),e.xp6(1),e.Q6J("ngIf",r.warrantiesForm.controls.unit.invalid&&r.warrantiesForm.controls.unit.touched),e.xp6(5),e.Q6J("ngIf",r.warrantiesForm.controls.period.invalid&&r.warrantiesForm.controls.period.touched),e.xp6(1),e.Q6J("ngIf",null==r.warrantiesForm.controls.period.errors?null:r.warrantiesForm.controls.period.errors.min),e.xp6(1),e.Q6J("disabled",r.warrantiesForm.invalid))},dependencies:[c.sg,c.O5,m.rH,m.yS,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.qQ,i.sg,i.u,h.w9,h.jq]}),t})(),Q=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-warranties"]],decls:1,vars:0,template:function(n,r){1&n&&e._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2}),t})();var S=s(9585),Y=s(9628),W=s(907),k=s(4826),K=s(5351),j=s(6134);const M=[{path:"",component:Q,children:[{path:"list",component:F},{path:"edit/:id",component:O},{path:"create",component:q}]}];let H=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,m.Bz.forChild(M),S.xD,Y.L,W.dD,k.bB,K.bQ.forRoot({animation:150,ghostClass:"bg-light"}),j.ii.forRoot(),i.UX,h.A0,i.u5]}),t})()}}]);
"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[69],{6069:(J,f,u)=>{u.r(f),u.d(f,{ItemUnitsModule:()=>N});var c=u(6895),m=u(265),h=u(9585),v=u(9628),b=u(907),E=u(4826),T=u(5351),C=u(6134),a=u(433),t=u(4650);let A=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-item-units"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2}),n})();var U=u(9751),Z=u(9646),x=u(5226),s=u.n(x),p=u(2366),g=u(7095);function I(n,o){1&n&&(t.TgZ(0,"div",14)(1,"div",15)(2,"span",16),t._uU(3,"Loading..."),t.qZA()()())}const L=function(n){return["../edit",n]};function y(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td")(9,"a",19),t._uU(10,"S\u1eeda"),t.qZA(),t.TgZ(11,"button",20),t._uU(12,"X\xf3a"),t.qZA()()()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.hij("",t.xi3(7,5,e.created_at,"dd-MM-yyyy")," "),t.xp6(3),t.Q6J("routerLink",t.VKq(8,L,e.id)),t.xp6(2),t.s9C("id",e.id)}}function D(n,o){if(1&n&&(t.TgZ(0,"table",17)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"ID"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"T\xcaN \u0110\u01a0N V\u1eca"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"TH\u1edcI GIAN T\u1ea0O"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"H\xc0NH \u0110\u1ed8NG"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,y,13,10,"tr",18),t.ALo(13,"async"),t.qZA(),t.TgZ(14,"tfoot")(15,"tr"),t._UZ(16,"th")(17,"th")(18,"th")(19,"th")(20,"th")(21,"th"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(12),t.Q6J("ngForOf",t.lcZ(13,1,e.listUnits))}}let B=(()=>{class n{constructor(e){this._unitsService=e,this.isLoading=!1,this.listUnits=new U.y}ngOnInit(){this.refreshData()}ngAfterViewInit(){this.listUnits.subscribe(()=>{setTimeout(()=>{new p.w("#dataTableExample"),setTimeout(()=>{new p.w("#dataTableExample").on("datatable.init",()=>{this.addDeleteEventHandlers()})},0)},0)})}addDeleteEventHandlers(){const e=document.getElementsByClassName("btn-danger");Array.from(e).forEach(i=>{i.addEventListener("click",r=>{const l=r.target.getAttribute("id");this.deleteItem(Number(l))})})}deleteItem(e){s().fire({title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ho\xe0n t\xe1c l\u1ea1i h\xe0nh \u0111\u1ed9ng n\xe0y!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"C\xf3, x\xf3a n\xf3!"}).then(i=>{i.isConfirmed&&this._unitsService.delete(e).subscribe(r=>{s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e3,title:"\u0110\xe3 x\xf3a!",text:"\u0110\u01a1n v\u1ecb \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a.",icon:"success",timerProgressBar:!0,didOpen:l=>{l.addEventListener("mouseenter",s().stopTimer),l.addEventListener("mouseleave",s().resumeTimer)}}),setTimeout(()=>{location.reload()},1e3)},r=>{0==r.success&&s().fire("L\u1ed7i!",`${r.meta.name}`,"error")})})}refreshData(){this.isLoading=!0,this._unitsService.GetData().subscribe({next:e=>{1==e.status&&(this.listUnits=(0,Z.of)(e.payload.data),this.isLoading=!1,this.listUnits.subscribe(i=>{setTimeout(()=>{new p.w("#dataTableExample").on("datatable.init",()=>{this.addDeleteEventHandlers()})},0)}))},error:e=>{console.log(e),s().fire("L\u1ed7i!","C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng li\xean h\u1ec7 QTV.","error")}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.S))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-item-units-list"]],decls:18,vars:2,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["routerLink","/item-units/create","type","button",1,"btn","btn-primary"],[1,"table-responsive"],["class","d-flex justify-content-center",4,"ngIf"],["id","dataTableExample","class","table",4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["id","dataTableExample",1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","mx-2",3,"routerLink"],[1,"btn","btn-danger",3,"id"]],template:function(e,i){1&e&&(t.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),t._uU(4,"Danh m\u1ee5c"),t.qZA()(),t.TgZ(5,"li",4),t._uU(6,"Danh m\u1ee5c \u0111\u01a1n v\u1ecb t\xednh"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),t._uU(12,"Qu\u1ea3n l\xed \u0111\u01a1n v\u1ecb t\xednh"),t.qZA(),t.TgZ(13,"button",10),t._uU(14,"Th\xeam m\u1edbi"),t.qZA(),t.TgZ(15,"div",11),t.YNc(16,I,4,0,"div",12),t.YNc(17,D,22,3,"table",13),t.qZA()()()()()),2&e&&(t.xp6(16),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("ngIf",!i.isLoading))},dependencies:[c.sg,c.O5,m.rH,m.yS,c.Ov,c.uU]}),n})();function _(n,o){1&n&&(t.TgZ(0,"p",17),t._uU(1,"Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng t\xean \u0111\u01a1n v\u1ecb t\xednh"),t.qZA())}let F=(()=>{class n{constructor(e,i){this._unitsService=e,this._router=i,this.unitsForm=new a.cw({name:new a.NI("",[a.kI.required])})}ngOnInit(){}onSubmit(){if(this.unitsForm.valid){const e={name:String(this.unitsForm.value.name)||""};this._unitsService.create(e).subscribe(i=>{if(1==i.status)this.unitsForm.reset(),s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"Th\xeam th\xe0nh c\xf4ng",icon:"success",timerProgressBar:!0,didOpen:r=>{r.addEventListener("mouseenter",s().stopTimer),r.addEventListener("mouseleave",s().resumeTimer)}}),this._router.navigate(["../item-units/list"]);else{console.log(i);const r=[];for(const d in i.meta.errors)r.push(...i.meta.errors[d]);const l=r.join(" ");s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:l,icon:"error",timerProgressBar:!0,didOpen:d=>{d.addEventListener("mouseenter",s().stopTimer),d.addEventListener("mouseleave",s().resumeTimer)}})}},i=>{0==i.error.status&&s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"L\u1ed7i!",text:`${i.error.meta.errors.name[0]}`,icon:"error",timerProgressBar:!0,didOpen:r=>{r.addEventListener("mouseenter",s().stopTimer),r.addEventListener("mouseleave",s().resumeTimer)}})})}else console.log("Error create item-units!")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.S),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-item-units-create"]],decls:23,vars:3,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputUsername1",1,"form-label"],["type","text","id","exampleInputUsername1","formControlName","name","autocomplete","off","placeholder","Nh\u1eadp t\xean \u0111\u01a1n v\u1ecb t\xednh",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["routerLink","/categories/list",1,"btn","btn-secondary"],[1,"text-danger","mt-1"]],template:function(e,i){1&e&&(t.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),t._uU(4,"Danh m\u1ee5c"),t.qZA()(),t.TgZ(5,"li",4),t._uU(6,"Th\xeam m\u1edbi \u0111\u01a1n v\u1ecb t\xednh"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),t._uU(12,"Th\xeam m\u1edbi \u0111\u01a1n v\u1ecb t\xednh"),t.qZA(),t.TgZ(13,"form",10),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(14,"div",11)(15,"label",12),t._uU(16,"T\xean \u0111\u01a1n v\u1ecb t\xednh"),t.qZA(),t._UZ(17,"input",13),t.YNc(18,_,2,0,"p",14),t.qZA(),t.TgZ(19,"button",15),t._uU(20,"T\u1ea1o m\u1edbi"),t.qZA(),t.TgZ(21,"button",16),t._uU(22,"Tr\u1edf v\u1ec1"),t.qZA()()()()()()),2&e&&(t.xp6(13),t.Q6J("formGroup",i.unitsForm),t.xp6(5),t.Q6J("ngIf",i.unitsForm.controls.name.invalid&&i.unitsForm.controls.name.touched),t.xp6(1),t.Q6J("disabled",i.unitsForm.invalid))},dependencies:[c.O5,m.rH,m.yS,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),n})();function S(n,o){1&n&&(t.TgZ(0,"div",12)(1,"button",13),t._UZ(2,"span",14),t._uU(3," Loading... "),t.qZA()())}function w(n,o){1&n&&(t.TgZ(0,"p",22),t._uU(1,"Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng t\xean \u0111\u01a1n v\u1ecb t\xednh"),t.qZA())}function q(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"form",15),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onSubmit())}),t.TgZ(1,"div",16)(2,"label",17),t._uU(3,"T\xean \u0111\u01a1n v\u1ecb t\xednh"),t.qZA(),t._UZ(4,"input",18),t.YNc(5,w,2,0,"p",19),t.qZA(),t.TgZ(6,"button",20),t._uU(7,"C\u1eadp nh\u1eadt"),t.qZA(),t.TgZ(8,"button",21),t._uU(9,"Tr\u1edf v\u1ec1"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.unitsForm),t.xp6(5),t.Q6J("ngIf",e.unitsForm.controls.name.invalid&&e.unitsForm.controls.name.touched),t.xp6(1),t.Q6J("disabled",e.unitsForm.invalid)}}const O=[{path:"",component:A,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:B},{path:"edit/:id",component:(()=>{class n{constructor(e,i,r){this._unitsService=e,this._route=i,this._router=r,this.isLoading=!1,this.unitsForm=new a.cw({name:new a.NI("",[a.kI.required,a.kI.maxLength(255)])})}ngOnInit(){this._route.paramMap.subscribe(e=>{const i=e.get("id");null!==i?(this.id=i,this.isLoading=!0,this._unitsService.GetOneRecord(i).subscribe(r=>{this.name=r.payload.name,this.isLoading=!1,this.unitsForm.patchValue(r.payload)},r=>{s().fire("L\u1ed7i!","C\xf3 l\u1ed7i x\u1ea3y ra d\u1eef li\u1ec7u.","error")})):this._router.navigate(["../item-units/list"])})}onSubmit(){if(this.unitsForm.valid){const e={...this.unitsForm.value,update_date:(new Date).toISOString(),id:this.id};this._unitsService.update(e).subscribe(i=>{if(1==i.status)s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\xe0nh c\xf4ng!",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success",timerProgressBar:!0,didOpen:r=>{r.addEventListener("mouseenter",s().stopTimer),r.addEventListener("mouseleave",s().resumeTimer)}}),this._router.navigate(["/item-units/list"]);else{console.log(i);const r=[];for(const d in i.meta.errors)r.push(...i.meta.errors[d]);const l=r.join(" ");s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"Th\u1ea5t b\u1ea1i!",text:l,icon:"error",timerProgressBar:!0,didOpen:d=>{d.addEventListener("mouseenter",s().stopTimer),d.addEventListener("mouseleave",s().resumeTimer)}})}},i=>{0==i.error.status&&s().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:"L\u1ed7i!",text:`${i.error.meta.errors.name[0]}`,icon:"error",timerProgressBar:!0,didOpen:r=>{r.addEventListener("mouseenter",s().stopTimer),r.addEventListener("mouseleave",s().resumeTimer)}})})}else alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.S),t.Y36(m.gz),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-item-units-edit"]],decls:15,vars:2,consts:[[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],["class","loadingcustomcss",4,"ngIf"],["class","forms-sample",3,"formGroup","ngSubmit",4,"ngIf"],[1,"loadingcustomcss"],["type","button","disabled","",1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputUsername1",1,"form-label"],["type","text","id","exampleInputUsername1","formControlName","name","autocomplete","off","placeholder","Nh\u1eadp t\xean \u0111\u01a1n v\u1ecb t\xednh",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["routerLink","/item-units/list",1,"btn","btn-secondary"],[1,"text-danger","mt-1"]],template:function(e,i){1&e&&(t.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),t._uU(4,"Danh m\u1ee5c"),t.qZA()(),t.TgZ(5,"li",4),t._uU(6,"C\u1eadp nh\u1eadt \u0111\u01a1n v\u1ecb t\xednh"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h6",9),t._uU(12,"C\u1eadp nh\u1eadt \u0111\u01a1n v\u1ecb t\xednh"),t.qZA(),t.YNc(13,S,4,0,"div",10),t.YNc(14,q,10,3,"form",11),t.qZA()()()()),2&e&&(t.xp6(13),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("ngIf",!i.isLoading))},dependencies:[c.O5,m.rH,m.yS,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),n})()},{path:"create",component:F}]}];let N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,m.Bz.forChild(O),h.xD,v.L,b.dD,E.bB,T.bQ.forRoot({animation:150,ghostClass:"bg-light"}),C.ii.forRoot(),a.UX]}),n})()}}]);